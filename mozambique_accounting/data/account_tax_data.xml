<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Tax Groups -->
    <record id="tax_group_iva_16" model="account.tax.group">
        <field name="name">IVA 16%</field>
        <field name="sequence">10</field>
    </record>

    <record id="tax_group_iva_0" model="account.tax.group">
        <field name="name">IVA Isento</field>
        <field name="sequence">20</field>
    </record>

    <record id="tax_group_irps" model="account.tax.group">
        <field name="name">IRPS</field>
        <field name="sequence">30</field>
    </record>

    <record id="tax_group_irpc" model="account.tax.group">
        <field name="name">IRPC</field>
        <field name="sequence">40</field>
    </record>

    <!-- IVA 16% - Sales -->
    <record id="tax_iva_16_sale" model="account.tax">
        <field name="name">IVA 16% Vendas</field>
        <field name="type_tax_use">sale</field>
        <field name="amount_type">percent</field>
        <field name="amount">16</field>
        <field name="description">IVA 16%</field>
        <field name="price_include">False</field>
        <field name="include_base_amount">False</field>
        <field name="tax_group_id" ref="tax_group_iva_16"/>
        <field name="invoice_repartition_line_ids" eval="[(5, 0, 0),
            (0, 0, {
                'factor_percent': 100,
                'repartition_type': 'base',
            }),
            (0, 0, {
                'factor_percent': 100,
                'repartition_type': 'tax',
                'account_id': ref('account_template_2411'),
            }),
        ]"/>
        <field name="refund_repartition_line_ids" eval="[(5, 0, 0),
            (0, 0, {
                'factor_percent': 100,
                'repartition_type': 'base',
            }),
            (0, 0, {
                'factor_percent': 100,
                'repartition_type': 'tax',
                'account_id': ref('account_template_2411'),
            }),
        ]"/>
    </record>

    <!-- IVA 16% - Purchase -->
    <record id="tax_iva_16_purchase" model="account.tax">
        <field name="name">IVA 16% Compras</field>
        <field name="type_tax_use">purchase</field>
        <field name="amount_type">percent</field>
        <field name="amount">16</field>
        <field name="description">IVA 16%</field>
        <field name="price_include">False</field>
        <field name="include_base_amount">False</field>
        <field name="tax_group_id" ref="tax_group_iva_16"/>
        <field name="invoice_repartition_line_ids" eval="[(5, 0, 0),
            (0, 0, {
                'factor_percent': 100,
                'repartition_type': 'base',
            }),
            (0, 0, {
                'factor_percent': 100,
                'repartition_type': 'tax',
                'account_id': ref('account_template_2411'),
            }),
        ]"/>
        <field name="refund_repartition_line_ids" eval="[(5, 0, 0),
            (0, 0, {
                'factor_percent': 100,
                'repartition_type': 'base',
            }),
            (0, 0, {
                'factor_percent': 100,
                'repartition_type': 'tax',
                'account_id': ref('account_template_2411'),
            }),
        ]"/>
    </record>

    <!-- IVA Exempt -->
    <record id="tax_iva_exempt" model="account.tax">
        <field name="name">IVA Isento</field>
        <field name="type_tax_use">sale</field>
        <field name="amount_type">percent</field>
        <field name="amount">0</field>
        <field name="description">Isento</field>
        <field name="price_include">False</field>
        <field name="tax_group_id" ref="tax_group_iva_0"/>
    </record>

    <!-- IRPS 20% -->
    <record id="tax_irps_20" model="account.tax">
        <field name="name">IRPS 20%</field>
        <field name="type_tax_use">purchase</field>
        <field name="amount_type">percent</field>
        <field name="amount">20</field>
        <field name="description">IRPS 20%</field>
        <field name="price_include">False</field>
        <field name="tax_group_id" ref="tax_group_irps"/>
        <field name="invoice_repartition_line_ids" eval="[(5, 0, 0),
            (0, 0, {
                'factor_percent': 100,
                'repartition_type': 'base',
            }),
            (0, 0, {
                'factor_percent': 100,
                'repartition_type': 'tax',
                'account_id': ref('account_template_2413'),
            }),
        ]"/>
    </record>

    <!-- IRPS 10% -->
    <record id="tax_irps_10" model="account.tax">
        <field name="name">IRPS 10%</field>
        <field name="type_tax_use">purchase</field>
        <field name="amount_type">percent</field>
        <field name="amount">10</field>
        <field name="description">IRPS 10%</field>
        <field name="price_include">False</field>
        <field name="tax_group_id" ref="tax_group_irps"/>
        <field name="invoice_repartition_line_ids" eval="[(5, 0, 0),
            (0, 0, {
                'factor_percent': 100,
                'repartition_type': 'base',
            }),
            (0, 0, {
                'factor_percent': 100,
                'repartition_type': 'tax',
                'account_id': ref('account_template_2413'),
            }),
        ]"/>
    </record>

    <!-- IRPC 32% -->
    <record id="tax_irpc_32" model="account.tax">
        <field name="name">IRPC 32%</field>
        <field name="type_tax_use">none</field>
        <field name="amount_type">percent</field>
        <field name="amount">32</field>
        <field name="description">IRPC 32%</field>
        <field name="tax_group_id" ref="tax_group_irpc"/>
        <field name="invoice_repartition_line_ids" eval="[(5, 0, 0),
            (0, 0, {
                'factor_percent': 100,
                'repartition_type': 'base',
            }),
            (0, 0, {
                'factor_percent': 100,
                'repartition_type': 'tax',
                'account_id': ref('account_template_2412'),
            }),
        ]"/>
    </record>

    <!-- Special Taxes -->
    
    <!-- ICE - Imposto sobre Consumos Específicos -->
    <record id="tax_ice_tobacco" model="account.tax">
        <field name="name">ICE Tabaco</field>
        <field name="type_tax_use">sale</field>
        <field name="amount_type">percent</field>
        <field name="amount">75</field>
        <field name="description">ICE Tabaco</field>
        <field name="price_include">False</field>
    </record>

    <record id="tax_ice_alcohol" model="account.tax">
        <field name="name">ICE Bebidas Alcoólicas</field>
        <field name="type_tax_use">sale</field>
        <field name="amount_type">percent</field>
        <field name="amount">65</field>
        <field name="description">ICE Álcool</field>
        <field name="price_include">False</field>
    </record>

    <!-- Direitos Aduaneiros -->
    <record id="tax_import_duty_5" model="account.tax">
        <field name="name">Direitos Aduaneiros 5%</field>
        <field name="type_tax_use">purchase</field>
        <field name="amount_type">percent</field>
        <field name="amount">5</field>
        <field name="description">DA 5%</field>
        <field name="price_include">False</field>
    </record>

    <record id="tax_import_duty_20" model="account.tax">
        <field name="name">Direitos Aduaneiros 20%</field>
        <field name="type_tax_use">purchase</field>
        <field name="amount_type">percent</field>
        <field name="amount">20</field>
        <field name="description">DA 20%</field>
        <field name="price_include">False</field>
    </record>
</odoo>